# 第一章 计算机系统概述总结与练习


### 一、冯•诺依曼结构计算机的特点、工作原理

#### 1 )冯•诺依曼结构计算机的特点
(1)由运算器、控制器、存储器、输人设备和输出设备等5部分组成。
(2)指令和数据以二进制形式存放在存储器中，存储器按地址访问。
(3)指令由操作码和地址码构成，并由指令控制计算机的运行。
(4)由控制器来控制程序和数据的存取及程序的执行。
#### 2 )冯•诺依曼结构计算机的工作原理
冯•诺依曼结构计算机的工作原理是“存储程序”和“程序控制”。“存储程序”，就是将解题的步骤编成程序，然后把程序存放到计算机的存储器中。“程序控制”就是程序运行时，控制器根据逐条从主存中取出指令，控制全机相关部件执行相应的操作，完成指令的功能，直到程序中所有指令执行完成，从而实现程序应该完成的功能。
### 二、计算机系统的组成及各部分的作用
一台完整的计算机应包括硬件和软件两部分。硬件与软件结合，才能使计算机正常运行并发挥作用。因此，对计算机的理解不能仅局限于硬件部分,应该把它看作一个包含软件系统与硬件系统的完整系统。
**常见的硬件及其功能如下。**
(1)存储器主要功能是存放程序和数据，按地址访问。要掌握常用主存容量指标和访问对应容量主存所需要的地址线的数量。
(2)运算器：对数据进行算术运算和逻辑运算的部件。
(3)控制器：指挥协调计算机各部件工作。控制器根据指令的操作码、指令执行过程中的条件状态、时序系统等3方面的因素来产生指令执行过程中所需要的控制信号，控制指令的执行。
(4)输人设备：将信息输人到计算机的设备，如键盘、鼠标等。
(5)输出设备：将计算机运算结果转换成人或其他设备能接收并识别的外部设备。
**软件系统的组成如下**。一台计算机中全部程序的集合，统称为这台计算机的软件系统。软件按其功能分成应用软件和系统软件两大类。应用软件是用户为解决某种应用问题而编制的一些程序，如科学计算程序、自动控制程序、工程设计程序、数据处理程序、情报检索程序等。随着计算机的广泛应用，应用软件的种类及数量将越来越多，功能也越来越强大。系统软件用于对计算机系统的管理、调度、监视和服务等功能，其目的是方便用户，提高计算机使用效率，扩充系统的功能。操作系统、数据库系统、各类监控程序等都是常见的系统软件。
### 三、计算机系统的层次结构

#### (1)五级层次结构。
第1级为微程序设计级，第2级为机器语言级，第3级为操作系统级，第4级为汇编语言级，第5级为高级语言级。其中1、2级是硬件机器，是计算机系统的基础和核心，计算机的所有功能最终都由硬件来完成；第3级是面向机器的，它是为支持高层的需要而设置的；4、5级是面向应用的，它们是为程序员解决应用问题而设置的。
#### (2)不同层次之间的关系。
高层是低层功能的扩展，低层是高层的基础；站在不同的层次观察计算机系统，得到的概念不同。
#### (3)等价性。
从用户的角度来看硬件和软件在功能上是等价的，软硬件的逻辑等价性原理是计算机系统设计的重要依据。

### 四、计算机的性能指标及其应用
#### (1 )基本性能指标包括字长和存储容量。
#### (2 )与时间相关的性能指标主要包括：
①时钟周期：时钟周期是时钟频率的倒数，也称为节拍周期或T周期，是处理操作最基本的时间单位。
②CPI是指执行每条指令所需要的平均时钟周期数。
③MIPS用每秒钟执行完成的指令数量作为衡量计算机性能的指标。④CPU时间即一段程序的执行时间。
#### (3)系统的可靠性及可靠性指标。
可靠性是指系统或产品在规定的条件和规定的时间内，完成规定功能的能力。系统的可靠性成为衡量计算机系统性能的一个重要指标。
衡量计算机系统可靠性的指标包括平均无故障时间MTTR、平均故樟间隔时间MTBF和可用性。提高系统可靠性的常用方法包括避错和容错。硬件系统的抗干扰设计、软件系统的测试等都是常用的避错方法；而信息冗余(如数据备份）、部件冗余(如采用双电源、双链路、双机热备份等）是常用的容错方法。

### 五、练习

#### 1）名词解释

> **摩尔定律**：对集成电路 上可容纳的晶体管数目、性能和价格等发展趋势的预测 ，其主要内容是：成集电路上可容纳的晶体管数量每18个月翻一番，性能将提高一倍，而其价格将降低一半。
> **主存** : 计算机中存放正在运行的程序和数据的存储器，为计算机的主要工作存储器，可随机存取 。  
> **控制器**：计算机的指挥中心，它使计算机各部件自动协调地工作。  
> **时钟周期**：时钟周期是时钟频率的倒数，也称为节拍周期或T周期，是处理操作最基本的时间单位。  
> **多核处理器**： 多核处理器是指在一枚处理器中集成两个或多个完整的计算引擎 ( 内核 ) 。
> **字长**：运算器一次运算处理的二进制位数。  
> **存储容量** : 存储器中可存二进制信息的总量。
> **CPI** ：指执行每条指令所需要的平均时钟周期数。  
> **MIPS** ：用每秒钟执行完成的指令数量作为衡量计算机性能的一个指标，该指标以每秒钟完成的百万指令数作为单位。  
> **CPU 时间**：计算某个任务时 CPU 实际消耗的时间，也即 CPU 真正花费在某程序上的时间。  
> **计算机系统的层次结构**：计算机系统的层次结构由多级构成，一般分成 5 级，由低到高分别是：微程序设计级，机器语言级，操作系统级，汇编语言级，高级语言级。  
> **基准测试程序**：把应用程序中使用频度最高的那那些核心程序作为评价计算机性能的标准程序。
> **软 / 硬件功能的等价性**：从逻辑功能的角度来看，硬件和软件在完成某项功能上是相同的，称为 软 / 硬件功能是 等价的，如浮点运算既可以由软件实现，也可以由专门的硬件实现。
> **固件**：是一种软件的固化，其目的是为了加快软件的执行速度。
> **可靠性**：可靠性是指系统或产品在规定的条件和规定的时间内，完成规定功能的能力 。 产品可靠性定义的要素是三个 “ 规定” ：“规定条件”、“规定时间” 和 “规定功能” 。  
> **MTTF** ：平均无故障时间 ，指系统自使用以来到第一次出故障的时间间隔的期望值。
> **MTTR** ：系统的平均修复时间。  
> **MTBF** ：平均故障间隔时间，指相邻两次故障之间的平均工作时间。  
> **可用性**：指系统在任意时刻可使用的概率，可根据 MTTF、MTTR和 MTBF等指标计算处系统的可用性。

#### 2）冯•诺依曼型计算机的基本思想是什么？按此思想设计的计算机硬件系统应由哪些部件组成？各起什么作用？

> 答：冯诺依曼型计算机的基本思想是存储程序和程序控制，其中的“存储程序”是指将解题的步骤编写成程序，然后把存储存放到计算机的内存中，而“程序控制”是指控制器读出存放在存储器中的程序并根据该程序控制全机协调工作以完成程序的功能。
> 根据冯诺依曼型计算机的基本思想，计算机的硬件应该由运算器、控制器、存储器、输入\输出设备和总线组成。 各部件的作用：
> 运算器：对数据进行运算的部件。   存储器：存放程序和数据。  
> 控制器：根据指令的功能控制构成计算机的各大功能部件协调工作，共同完成指令的功能。   输入设备：将外部信息输送到主机内部的设备。  
> 输出设备：能将计算机内部的信息以不同并且相应的形式反馈给人们的设备。 总线：连接两个或多个设备（部件）的公共信息通路。

#### 3)计算机内部有哪两股信息在流动？它们彼此有什么关系?

> 答：计算机中有两股信息在流动：一股是控制信息，即操作命令，它分散流向各个部件；一股是数据信息，它受控制信息的控制，从一个部件流向另一个部件，在流动的过程被相应的部件加工处理。

*PS：这是第二章的内容，不知道为啥书上把它放在第一章的习题上*
#### 4)假定某计算机1和计算机2以不同的方式实现了相同的指令集 , 该指令集中共有A 、B 、C 、D 四类指令，它们在程序中所占比例分别为40% 、20% 、20% 、20% ，机器 1 和机器 2 的时钟周期为 600MHZ 和 800MHZ ，各类指令在两机器上的 CPI 如表1.5所示，求两机器的MIPS各为多少？
|      | A    | B    | C    | D    |
| ---- | ---- | ---- | ---- | ---- |
| CPI1 | 2    | 3    | 4    | 5    |
| CPI2 | 2    | 2    | 3    | 4    |
> 解： 
> CPI1= 2*0.4+ 0.2*(3+4+5)= 3.2 
> MIPS1= f/(CPI1  X10^6 ) = 600  10 6 /(3.2 X10^6 )=187.5
>  CPI2= 2*0.4+ 0.2*(2+3+4)= 2.6 
>  MIPS 2 = f/(CPI1 X 10^6 ) = 800 X 10^6 /(2.6  10 6 )=307.7

#### 5) 若某程序编译后生成的目标代码由 A 、 B 、 C 、 D 四类指令组成，它们在程序中所占比例分别为 40% 、 20% 、 15% 、 25% 。已知 A 、 B 、 C 、 D 四类指令的 CPI 分别为 1 、 2 、 2 、 2 。现需要对程序进行编译优化，优化后的程序中 A 类指令条数减少了一半，而其它指令数量未发生变化。假设运行该程序的计算机 CPU 主频为 500MHZ 。完成下列各题：
1) 优化前后程序的 CPI 各为多少 ?
2) 优化前后程序的 MIPS 各为多少 ?
3）通过上面的计算结果你能得出什么结论？

> 解： 
> 1) 
> 优化前： CPI=1X0.4 + 2X0.2 + 2X0.15 + 2X0.25 = 1.6
> 优化后：CPI=   = 1X1/4 + 2X1/4 + 2X3/16 + 2X5/16 = 1.75
> 2 ）
> 优化前： MIPS = (500 X10^6 ) /(1.6 X 10^6 ) = 312.5
> 优化后： MIPS = (500 X10^6 ) /(1.75 X 10^6 ) = 285.7
> 3) 优化后， A 类指令条数减少，造成计算机的 CPI 增加， MIPS 减少。这样的优化虽然减少了 A类指令条数，却降低了程序的执行速度。

------

[^undefined]:

[参考资料](http://www.icourse163.org/learn/HUST-1003159001?tid=1206076221#/learn/announce)



